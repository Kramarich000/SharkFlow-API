<!doctype html>
<html>

<head>
  <meta name="generator" content="JSDoc 3.6.11">
  <meta charset="utf-8">
  <title>Source: utils/loggers/systemLoggers.js</title>
  <link rel="stylesheet" href="https://brick.a.ssl.fastly.net/Karla:400,400i,700,700i" type="text/css">
  <link rel="stylesheet" href="https://brick.a.ssl.fastly.net/Noto+Serif:400,400i,700,700i" type="text/css">
  <link rel="stylesheet" href="https://brick.a.ssl.fastly.net/Inconsolata:500" type="text/css">
  <link href="css/baseline.css" rel="stylesheet">
</head>

<body onload="prettyPrint()">
  <nav id="jsdoc-navbar" role="navigation" class="jsdoc-navbar">
    <div id="jsdoc-navbar-container">
      <div id="jsdoc-navbar-content">
        <a href="index.html" class="jsdoc-navbar-package-name">Home</a>
      </div>
    </div>
  </nav>
  <div id="jsdoc-body-container">
    <div id="jsdoc-content">
      <div id="jsdoc-content-container">
        <div id="jsdoc-banner" role="banner">
        </div>
        <div id="jsdoc-main" role="main">
          <header class="page-header">
            <h1>Source: utils/loggers/systemLoggers.js</h1>
          </header>
          <article>
            <pre class="prettyprint linenums"><code>/**
 * @module loggers/system
 * @description Системные логгеры.
 */
import { logInfo, logWarn, logError } from &#x27;./baseLogger.js&#x27;;

const validateParams &#x3D; (ip) &#x3D;&gt; {
  if (!ip) throw new Error(&#x27;ip is required&#x27;);
};

/**
 * Логирование запуска cron задачи
 * @param {string} jobName - Название cron задачи
 * @param {string} ip - IP адрес, с которого запущена задача
 * @example
 * logCronJobStart(&#x27;deleteOldGuests&#x27;, &#x27;127.0.0.1&#x27;);
 */
export const logCronJobStart &#x3D; (jobName, ip) &#x3D;&gt; {
  if (!jobName) throw new Error(&#x27;jobName is required&#x27;);
  validateParams(ip);
  logInfo(&#x27;System&#x27;, &#x27;cronStart&#x27;, &#x60;${jobName} started from IP: ${ip}&#x60;);
};

/**
 * Логирование завершения cron задачи
 * @param {string} jobName - Название cron задачи
 * @param {string} ip - IP адрес, с которого запущена задача
 * @param {string} [result&#x3D;&#x27;&#x27;] - Результат выполнения задачи
 * @example
 * logCronJobComplete(&#x27;deleteOldGuests&#x27;, &#x27;127.0.0.1&#x27;, &#x27;Deleted 15 old guests&#x27;);
 */
export const logCronJobComplete &#x3D; (jobName, ip, result &#x3D; &#x27;&#x27;) &#x3D;&gt; {
  if (!jobName) throw new Error(&#x27;jobName is required&#x27;);
  validateParams(ip);
  logInfo(&#x27;System&#x27;, &#x27;cronComplete&#x27;, &#x60;${jobName} completed from IP: ${ip}${result ? &#x60; - ${result}&#x60; : &#x27;&#x27;}&#x60;);
};

/**
 * Логирование ошибки cron задачи
 * @param {string} jobName - Название cron задачи
 * @param {Error} error - Объект ошибки
 * @param {string} ip - IP адрес, с которого запущена задача
 * @example
 * logCronJobError(&#x27;deleteOldGuests&#x27;, new Error(&#x27;Database connection failed&#x27;), &#x27;127.0.0.1&#x27;);
 */
export const logCronJobError &#x3D; (jobName, error, ip) &#x3D;&gt; {
  if (!jobName) throw new Error(&#x27;jobName is required&#x27;);
  validateParams(ip);
  logError(&#x27;System&#x27;, &#x27;cronError&#x27;, &#x60;${jobName} failed from IP: ${ip}&#x60;, error);
};

/**
 * Логирование ошибки получения геолокации по IP
 * @param {string} ip - IP адрес
 * @param {Error} error - Объект ошибки
 * @example
 * logLocationError(&#x27;192.168.1.1&#x27;, new Error(&#x27;Geolocation service unavailable&#x27;));
 */
export const logLocationError &#x3D; (ip, error) &#x3D;&gt; {
  validateParams(ip);
  logError(&#x27;System&#x27;, &#x27;locationError&#x27;, &#x60;Failed to get location for IP: ${ip}&#x60;, error);
};

/**
 * Логирование запуска сервера
 * @param {number|string} port - Порт, на котором запущен сервер
 * @example
 * logServerStart(8080);
 */
export const logServerStart &#x3D; (port) &#x3D;&gt; {
  if (!port) throw new Error(&#x27;port is required&#x27;);
  logInfo(&#x27;System&#x27;, &#x27;serverStart&#x27;, &#x60;Server started on port ${port}&#x60;);
};

/**
 * Логирование остановки сервера
 * @example
 * logServerStop();
 */
export const logServerStop &#x3D; () &#x3D;&gt; {
  logInfo(&#x27;System&#x27;, &#x27;serverStop&#x27;, &#x27;Server stopped gracefully&#x27;);
};

/**
 * Логирование ошибки базы данных
 * @param {string} operation - Операция, которая вызвала ошибку
 * @param {Error} error - Объект ошибки
 * @example
 * logDatabaseError(&#x27;user creation&#x27;, new Error(&#x27;Duplicate entry&#x27;));
 */
export const logDatabaseError &#x3D; (operation, error) &#x3D;&gt; {
  if (!operation) throw new Error(&#x27;operation is required&#x27;);
  logError(&#x27;System&#x27;, &#x27;databaseError&#x27;, &#x60;Database operation failed: ${operation}&#x60;, error);
};

/**
 * Логирование ошибки внешнего сервиса
 * @param {string} service - Название внешнего сервиса
 * @param {string} operation - Операция, которая вызвала ошибку
 * @param {Error} error - Объект ошибки
 * @example
 * logExternalServiceError(&#x27;Cloudinary&#x27;, &#x27;image upload&#x27;, new Error(&#x27;API key invalid&#x27;));
 */
export const logExternalServiceError &#x3D; (service, operation, error) &#x3D;&gt; {
  if (!service) throw new Error(&#x27;service is required&#x27;);
  if (!operation) throw new Error(&#x27;operation is required&#x27;);
  logError(&#x27;System&#x27;, &#x27;externalServiceError&#x27;, &#x60;${service} ${operation} failed&#x60;, error);
}; </code></pre>
          </article>
        </div>
      </div>
      <nav id="jsdoc-toc-nav" role="navigation"></nav>
    </div>
  </div>
  <footer id="jsdoc-footer" class="jsdoc-footer">
    <div id="jsdoc-footer-container">
      <p>
        Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc</a> 3.6.11 on July 14, 2025.
      </p>
    </div>
  </footer>
  <script src="scripts/jquery.min.js"></script>
  <script src="scripts/tree.jquery.js"></script>
  <script src="scripts/prettify.js"></script>
  <script src="scripts/jsdoc-toc.js"></script>
  <script src="scripts/linenumber.js"></script>
  <script src="scripts/scrollanchor.js"></script>
</body>

</html>